@{
    ViewData["Title"] = "Complete Architecture";
}

<div class="container-fluid mt-4">
    <h1 class="text-center mb-4">
        <i class="fas fa-project-diagram me-2"></i>Complete Microservices Architecture
    </h1>
    
    <div class="row">
        <div class="col-lg-12">
            <div class="card shadow-lg">
                <div class="card-header bg-azure text-white">
                    <h4 class="mb-0">E-Commerce Platform - Microservices Architecture on Azure</h4>
                </div>
                <div class="card-body p-0">
                    <div id="main-architecture-diagram" class="p-4">
                        <svg viewBox="0 0 1400 900" class="w-100" style="background: #f8f9fa;">
                            <!-- Define gradients and patterns -->
                            <defs>
                                <linearGradient id="azureGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#0078d4;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#40e0d0;stop-opacity:1" />
                                </linearGradient>
                                
                                <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                                    <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e0e0e0" stroke-width="0.5"/>
                                </pattern>
                                
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                                        refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
                                </marker>
                            </defs>
                            
                            <!-- Background grid -->
                            <rect width="1400" height="900" fill="url(#grid)" />
                            
                            <!-- Architecture Layers -->
                            <g id="layers">
                                <!-- Client Layer -->
                                <rect x="0" y="0" width="1400" height="120" fill="#e3f2fd" opacity="0.5" />
                                <text x="20" y="30" font-size="16" font-weight="bold" fill="#1976d2">Client Layer</text>
                                
                                <!-- API Gateway Layer -->
                                <rect x="0" y="120" width="1400" height="100" fill="#ffebee" opacity="0.5" />
                                <text x="20" y="150" font-size="16" font-weight="bold" fill="#c62828">API Gateway Layer</text>
                                
                                <!-- Microservices Layer -->
                                <rect x="0" y="220" width="1400" height="280" fill="#e8f5e9" opacity="0.5" />
                                <text x="20" y="250" font-size="16" font-weight="bold" fill="#2e7d32">Microservices Layer</text>
                                
                                <!-- Integration Layer -->
                                <rect x="0" y="500" width="1400" height="120" fill="#f3e5f5" opacity="0.5" />
                                <text x="20" y="530" font-size="16" font-weight="bold" fill="#6a1b9a">Integration Layer</text>
                                
                                <!-- Data Layer -->
                                <rect x="0" y="620" width="1400" height="150" fill="#fff3e0" opacity="0.5" />
                                <text x="20" y="650" font-size="16" font-weight="bold" fill="#e65100">Data Layer</text>
                                
                                <!-- Infrastructure Layer -->
                                <rect x="0" y="770" width="1400" height="130" fill="#e0f2f1" opacity="0.5" />
                                <text x="20" y="800" font-size="16" font-weight="bold" fill="#00695c">Azure Infrastructure</text>
                            </g>
                            
                            <!-- Client Applications -->
                            <g id="clients">
                                <rect x="150" y="40" width="180" height="60" fill="#3498db" rx="5" class="component" />
                                <text x="240" y="75" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="240" y="65">üåê Web Application</tspan>
                                    <tspan x="240" y="85" font-size="12">(React SPA)</tspan>
                                </text>
                                
                                <rect x="380" y="40" width="180" height="60" fill="#3498db" rx="5" class="component" />
                                <text x="470" y="75" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="470" y="65">üì± Mobile Apps</tspan>
                                    <tspan x="470" y="85" font-size="12">(iOS/Android)</tspan>
                                </text>
                                
                                <rect x="610" y="40" width="180" height="60" fill="#3498db" rx="5" class="component" />
                                <text x="700" y="75" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="700" y="65">üñ•Ô∏è Admin Portal</tspan>
                                    <tspan x="700" y="85" font-size="12">(Blazor)</tspan>
                                </text>
                                
                                <rect x="840" y="40" width="180" height="60" fill="#3498db" rx="5" class="component" />
                                <text x="930" y="75" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="930" y="65">ü§ñ API Clients</tspan>
                                    <tspan x="930" y="85" font-size="12">(Third-party)</tspan>
                                </text>
                            </g>
                            
                            <!-- API Gateway -->
                            <g id="api-gateway">
                                <rect x="300" y="140" width="500" height="60" fill="#e74c3c" rx="5" class="component" />
                                <text x="550" y="175" text-anchor="middle" fill="white" font-size="16" font-weight="bold">
                                    <tspan x="550" y="165">üö™ Azure API Management</tspan>
                                    <tspan x="550" y="185" font-size="12">Rate Limiting | Auth | Routing | Caching</tspan>
                                </text>
                            </g>
                            
                            <!-- Microservices -->
                            <g id="microservices">
                                <!-- Product Service -->
                                <g class="microservice-group">
                                    <rect x="80" y="260" width="200" height="180" fill="#2ecc71" rx="5" class="component" />
                                    <text x="180" y="290" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                        üì¶ Product Service
                                    </text>
                                    <text x="180" y="310" text-anchor="middle" fill="white" font-size="11">
                                        ASP.NET Core 8.0
                                    </text>
                                    <line x1="90" y1="320" x2="270" y2="320" stroke="white" stroke-width="1" />
                                    <text x="90" y="340" fill="white" font-size="10">
                                        <tspan x="90" dy="15">‚Ä¢ Product CRUD</tspan>
                                        <tspan x="90" dy="15">‚Ä¢ Inventory Management</tspan>
                                        <tspan x="90" dy="15">‚Ä¢ Category Management</tspan>
                                        <tspan x="90" dy="15">‚Ä¢ Search & Filtering</tspan>
                                        <tspan x="90" dy="15">‚Ä¢ Price Calculation</tspan>
                                    </text>
                                </g>
                                
                                <!-- Order Service -->
                                <g class="microservice-group">
                                    <rect x="320" y="260" width="200" height="180" fill="#2ecc71" rx="5" class="component" />
                                    <text x="420" y="290" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                        üõí Order Service
                                    </text>
                                    <text x="420" y="310" text-anchor="middle" fill="white" font-size="11">
                                        ASP.NET Core + MassTransit
                                    </text>
                                    <line x1="330" y1="320" x2="510" y2="320" stroke="white" stroke-width="1" />
                                    <text x="330" y="340" fill="white" font-size="10">
                                        <tspan x="330" dy="15">‚Ä¢ Order Processing</tspan>
                                        <tspan x="330" dy="15">‚Ä¢ Cart Management</tspan>
                                        <tspan x="330" dy="15">‚Ä¢ Order Tracking</tspan>
                                        <tspan x="330" dy="15">‚Ä¢ Saga Orchestration</tspan>
                                        <tspan x="330" dy="15">‚Ä¢ Status Management</tspan>
                                    </text>
                                </g>
                                
                                <!-- Customer Service -->
                                <g class="microservice-group">
                                    <rect x="560" y="260" width="200" height="180" fill="#2ecc71" rx="5" class="component" />
                                    <text x="660" y="290" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                        üë§ Customer Service
                                    </text>
                                    <text x="660" y="310" text-anchor="middle" fill="white" font-size="11">
                                        ASP.NET Core + Identity
                                    </text>
                                    <line x1="570" y1="320" x2="750" y2="320" stroke="white" stroke-width="1" />
                                    <text x="570" y="340" fill="white" font-size="10">
                                        <tspan x="570" dy="15">‚Ä¢ User Registration</tspan>
                                        <tspan x="570" dy="15">‚Ä¢ Authentication</tspan>
                                        <tspan x="570" dy="15">‚Ä¢ Profile Management</tspan>
                                        <tspan x="570" dy="15">‚Ä¢ Address Book</tspan>
                                        <tspan x="570" dy="15">‚Ä¢ Preferences</tspan>
                                    </text>
                                </g>
                                
                                <!-- Payment Service -->
                                <g class="microservice-group">
                                    <rect x="800" y="260" width="200" height="180" fill="#2ecc71" rx="5" class="component" />
                                    <text x="900" y="290" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                        üí≥ Payment Service
                                    </text>
                                    <text x="900" y="310" text-anchor="middle" fill="white" font-size="11">
                                        ASP.NET Core + Stripe
                                    </text>
                                    <line x1="810" y1="320" x2="990" y2="320" stroke="white" stroke-width="1" />
                                    <text x="810" y="340" fill="white" font-size="10">
                                        <tspan x="810" dy="15">‚Ä¢ Payment Processing</tspan>
                                        <tspan x="810" dy="15">‚Ä¢ Refund Handling</tspan>
                                        <tspan x="810" dy="15">‚Ä¢ Payment Methods</tspan>
                                        <tspan x="810" dy="15">‚Ä¢ Transaction History</tspan>
                                        <tspan x="810" dy="15">‚Ä¢ Fraud Detection</tspan>
                                    </text>
                                </g>
                                
                                <!-- Notification Service -->
                                <g class="microservice-group">
                                    <rect x="1040" y="260" width="200" height="180" fill="#2ecc71" rx="5" class="component" />
                                    <text x="1140" y="290" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                        üìß Notification Service
                                    </text>
                                    <text x="1140" y="310" text-anchor="middle" fill="white" font-size="11">
                                        ASP.NET Core + SendGrid
                                    </text>
                                    <line x1="1050" y1="320" x2="1230" y2="320" stroke="white" stroke-width="1" />
                                    <text x="1050" y="340" fill="white" font-size="10">
                                        <tspan x="1050" dy="15">‚Ä¢ Email Notifications</tspan>
                                        <tspan x="1050" dy="15">‚Ä¢ SMS Alerts</tspan>
                                        <tspan x="1050" dy="15">‚Ä¢ Push Notifications</tspan>
                                        <tspan x="1050" dy="15">‚Ä¢ Template Management</tspan>
                                        <tspan x="1050" dy="15">‚Ä¢ Delivery Tracking</tspan>
                                    </text>
                                </g>
                            </g>
                            
                            <!-- Integration Layer -->
                            <g id="integration">
                                <!-- Service Bus -->
                                <rect x="200" y="530" width="400" height="70" fill="#9b59b6" rx="5" class="component" />
                                <text x="400" y="570" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="400" y="555">üì® Azure Service Bus</tspan>
                                    <tspan x="400" y="575" font-size="11">Topics & Queues | Event-Driven Communication</tspan>
                                    <tspan x="400" y="590" font-size="10">OrderCreated | PaymentProcessed | StockUpdated</tspan>
                                </text>
                                
                                <!-- Redis Cache -->
                                <rect x="650" y="530" width="200" height="70" fill="#9b59b6" rx="5" class="component" />
                                <text x="750" y="570" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="750" y="555">‚ö° Azure Cache for Redis</tspan>
                                    <tspan x="750" y="575" font-size="11">Session State</tspan>
                                    <tspan x="750" y="590" font-size="10">Product Cache | API Response Cache</tspan>
                                </text>
                                
                                <!-- Event Grid -->
                                <rect x="900" y="530" width="200" height="70" fill="#9b59b6" rx="5" class="component" />
                                <text x="1000" y="570" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="1000" y="555">üì° Azure Event Grid</tspan>
                                    <tspan x="1000" y="575" font-size="11">Event Routing</tspan>
                                    <tspan x="1000" y="590" font-size="10">Webhooks | Functions Trigger</tspan>
                                </text>
                            </g>
                            
                            <!-- Data Layer -->
                            <g id="databases">
                                <!-- Product DB -->
                                <rect x="80" y="660" width="200" height="80" fill="#f39c12" rx="5" class="component" />
                                <text x="180" y="705" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="180" y="690">üóÑÔ∏è Product DB</tspan>
                                    <tspan x="180" y="710" font-size="11">Azure SQL Database</tspan>
                                    <tspan x="180" y="725" font-size="10">Products | Categories | Inventory</tspan>
                                </text>
                                
                                <!-- Order DB -->
                                <rect x="320" y="660" width="200" height="80" fill="#f39c12" rx="5" class="component" />
                                <text x="420" y="705" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="420" y="690">üóÑÔ∏è Order DB</tspan>
                                    <tspan x="420" y="710" font-size="11">Azure Cosmos DB</tspan>
                                    <tspan x="420" y="725" font-size="10">Orders | Cart | Tracking</tspan>
                                </text>
                                
                                <!-- Customer DB -->
                                <rect x="560" y="660" width="200" height="80" fill="#f39c12" rx="5" class="component" />
                                <text x="660" y="705" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="660" y="690">üóÑÔ∏è Customer DB</tspan>
                                    <tspan x="660" y="710" font-size="11">Azure SQL Database</tspan>
                                    <tspan x="660" y="725" font-size="10">Users | Profiles | Auth</tspan>
                                </text>
                                
                                <!-- Blob Storage -->
                                <rect x="800" y="660" width="200" height="80" fill="#f39c12" rx="5" class="component" />
                                <text x="900" y="705" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="900" y="690">üóÇÔ∏è Blob Storage</tspan>
                                    <tspan x="900" y="710" font-size="11">Azure Storage</tspan>
                                    <tspan x="900" y="725" font-size="10">Images | Documents | Logs</tspan>
                                </text>
                                
                                <!-- Analytics DB -->
                                <rect x="1040" y="660" width="200" height="80" fill="#f39c12" rx="5" class="component" />
                                <text x="1140" y="705" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="1140" y="690">üìä Analytics DB</tspan>
                                    <tspan x="1140" y="710" font-size="11">Azure Synapse</tspan>
                                    <tspan x="1140" y="725" font-size="10">Reports | BI | ML</tspan>
                                </text>
                            </g>
                            
                            <!-- Azure Infrastructure -->
                            <g id="infrastructure">
                                <!-- AKS -->
                                <rect x="100" y="800" width="250" height="80" fill="url(#azureGradient)" rx="5" class="component" />
                                <text x="225" y="845" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="225" y="830">‚ò∏Ô∏è Azure Kubernetes Service</tspan>
                                    <tspan x="225" y="850" font-size="11">Container Orchestration</tspan>
                                    <tspan x="225" y="865" font-size="10">Auto-scaling | Load Balancing</tspan>
                                </text>
                                
                                <!-- Key Vault -->
                                <rect x="400" y="800" width="200" height="80" fill="url(#azureGradient)" rx="5" class="component" />
                                <text x="500" y="845" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="500" y="830">üîê Azure Key Vault</tspan>
                                    <tspan x="500" y="850" font-size="11">Secrets Management</tspan>
                                    <tspan x="500" y="865" font-size="10">Certificates | Keys | Secrets</tspan>
                                </text>
                                
                                <!-- Monitor -->
                                <rect x="650" y="800" width="200" height="80" fill="url(#azureGradient)" rx="5" class="component" />
                                <text x="750" y="845" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="750" y="830">üìä Azure Monitor</tspan>
                                    <tspan x="750" y="850" font-size="11">Observability</tspan>
                                    <tspan x="750" y="865" font-size="10">Logs | Metrics | Alerts</tspan>
                                </text>
                                
                                <!-- DevOps -->
                                <rect x="900" y="800" width="200" height="80" fill="url(#azureGradient)" rx="5" class="component" />
                                <text x="1000" y="845" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="1000" y="830">üöÄ Azure DevOps</tspan>
                                    <tspan x="1000" y="850" font-size="11">CI/CD Pipeline</tspan>
                                    <tspan x="1000" y="865" font-size="10">Build | Test | Deploy</tspan>
                                </text>
                                
                                <!-- Front Door -->
                                <rect x="1150" y="800" width="200" height="80" fill="url(#azureGradient)" rx="5" class="component" />
                                <text x="1250" y="845" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                                    <tspan x="1250" y="830">üåê Azure Front Door</tspan>
                                    <tspan x="1250" y="850" font-size="11">Global CDN</tspan>
                                    <tspan x="1250" y="865" font-size="10">WAF | SSL | Caching</tspan>
                                </text>
                            </g>
                            
                            <!-- Connections -->
                            <g id="connections">
                                <!-- Client to API Gateway -->
                                <line x1="240" y1="100" x2="400" y2="140" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="470" y1="100" x2="500" y2="140" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="700" y1="100" x2="600" y2="140" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="930" y1="100" x2="700" y2="140" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" />
                                
                                <!-- API Gateway to Services -->
                                <line x1="450" y1="200" x2="180" y2="260" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="500" y1="200" x2="420" y2="260" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="550" y1="200" x2="660" y2="260" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="600" y1="200" x2="900" y2="260" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="650" y1="200" x2="1140" y2="260" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" />
                                
                                <!-- Services to Service Bus (async) -->
                                <line x1="180" y1="440" x2="300" y2="530" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)" />
                                <line x1="420" y1="440" x2="400" y2="530" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)" />
                                <line x1="660" y1="440" x2="500" y2="530" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)" />
                                <line x1="900" y1="440" x2="500" y2="530" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)" />
                                <line x1="1140" y1="440" x2="600" y2="530" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)" />
                                
                                <!-- Services to Databases -->
                                <line x1="180" y1="440" x2="180" y2="660" stroke="#f39c12" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="420" y1="440" x2="420" y2="660" stroke="#f39c12" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="660" y1="440" x2="660" y2="660" stroke="#f39c12" stroke-width="2" marker-end="url(#arrowhead)" />
                                <line x1="900" y1="440" x2="900" y2="660" stroke="#f39c12" stroke-width="2" marker-end="url(#arrowhead)" />
                                
                                <!-- Service to Cache -->
                                <line x1="280" y1="350" x2="650" y2="550" stroke="#9b59b6" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)" />
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-5">
        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-layer-group me-2"></i>Architecture Layers</h5>
                </div>
                <div class="card-body">
                    <div class="architecture-layer-details">
                        @foreach (var layer in ViewBag.Layers)
                        {
                            <div class="layer-item mb-3 p-3 border-start border-4 border-primary">
                                <h6 class="mb-2">@layer.Name</h6>
                                <p class="text-muted mb-0">@layer.Description</p>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0"><i class="fas fa-exchange-alt me-2"></i>Communication Patterns</h5>
                </div>
                <div class="card-body">
                    <h6>Synchronous Communication</h6>
                    <ul>
                        <li>HTTP/REST APIs between services</li>
                        <li>gRPC for high-performance internal calls</li>
                        <li>API Gateway for external communication</li>
                    </ul>
                    
                    <h6 class="mt-3">Asynchronous Communication</h6>
                    <ul>
                        <li>Azure Service Bus for message queuing</li>
                        <li>Event-driven architecture with topics</li>
                        <li>Saga pattern for distributed transactions</li>
                    </ul>
                    
                    <h6 class="mt-3">Data Synchronization</h6>
                    <ul>
                        <li>Event sourcing for audit trails</li>
                        <li>CQRS for read/write separation</li>
                        <li>Change Data Capture (CDC) for real-time sync</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-12">
            <div class="card shadow">
                <div class="card-header bg-azure text-white">
                    <h5 class="mb-0"><i class="fas fa-shield-alt me-2"></i>Security & Compliance</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h6><i class="fas fa-lock me-2"></i>Authentication & Authorization</h6>
                            <ul>
                                <li>Azure AD B2C for customer identity</li>
                                <li>OAuth 2.0 / OpenID Connect</li>
                                <li>JWT tokens with refresh tokens</li>
                                <li>Role-based access control (RBAC)</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h6><i class="fas fa-user-shield me-2"></i>API Security</h6>
                            <ul>
                                <li>API key management</li>
                                <li>Rate limiting and throttling</li>
                                <li>IP whitelisting</li>
                                <li>CORS policies</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h6><i class="fas fa-certificate me-2"></i>Data Protection</h6>
                            <ul>
                                <li>TLS 1.3 for data in transit</li>
                                <li>Encryption at rest with Azure Key Vault</li>
                                <li>Secrets management</li>
                                <li>GDPR compliance</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add interactivity to components
            const components = document.querySelectorAll('.component');
            
            components.forEach(component => {
                component.style.cursor = 'pointer';
                component.style.transition = 'all 0.3s ease';
                
                component.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05)';
                    this.style.filter = 'brightness(1.1)';
                });
                
                component.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                    this.style.filter = 'brightness(1)';
                });
                
                component.addEventListener('click', function() {
                    const rect = this.getBoundingClientRect();
                    const text = this.querySelector('text').textContent;
                    console.log('Clicked on:', text);
                    // Could show a modal with component details
                });
            });
            
            // Animate connections on load
            const connections = document.querySelectorAll('#connections line');
            connections.forEach((line, index) => {
                line.style.opacity = '0';
                line.style.transition = 'opacity 0.5s ease';
                
                setTimeout(() => {
                    line.style.opacity = '1';
                }, index * 50);
            });
        });
    </script>
}